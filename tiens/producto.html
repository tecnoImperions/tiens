<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Detalle Producto</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<style>
body{background:#f8f9fa;font-family:Segoe UI,Roboto,Arial,sans-serif;}
.navbar-tiends{background:#007F3E;}
.navbar-brand{color:#F4B223!important;font-weight:700;}
.back-btn{color:#F4B223;text-decoration:none;font-size:1.5rem;display:inline-flex;align-items:center;gap:.3rem;transition:color .2s;}
.back-btn:hover{color:#ffc107;}
.btn-product{
  padding:.5rem 1rem;
  font-weight:600;
  border-radius:.3rem;
  box-shadow:0 4px 8px rgba(0,0,0,.1);
  transition:transform .1s, box-shadow .1s;
}
.btn-product:hover{transform:translateY(-2px);box-shadow:0 6px 12px rgba(0,0,0,.15);}
.btn-green{background:#007F3E;color:#fff;border:none;}
.btn-green:hover{background:#005f2d;color:#fff;}
.btn-yellow-outline{border:2px solid #F4B223;color:#F4B223;}
.btn-yellow-outline:hover{background:#F4B223;color:#007F3E;}
.price{font-size:1.4rem;font-weight:700;color:#F4B223;}
.img-product{display:block;margin-left:auto;margin-right:auto;}
</style>
</head>
<body>

<!-- Navbar: TIENS Bolivia izquierda, Volver derecha -->
<nav class="navbar navbar-tiends sticky-top">
  <div class="container d-flex justify-content-between align-items-center">
    <span class="navbar-brand fw-bold">TIENS Bolivia</span>
    <a href="index.html" class="back-btn"><i class="bi bi-arrow-left"></i> Volver</a>
  </div>
</nav>

<div class="container my-5" id="detalle"></div>

<script>
const params = new URLSearchParams(location.search);
const code = params.get('codigo');
const detalle = document.getElementById('detalle');

fetch('productos.json')
  .then(r => r.json())
  .then(lista => {
    const p = lista.find(x => x.codigo === code);
    if (!p) {
      detalle.innerHTML = "<p>Producto no encontrado</p>";
      return;
    }

    document.title = p.nombre + " - TIENS Bolivia";

    // Mensaje WhatsApp m치s amigable
    const mensajeWhatsApp = `Hola 游녦,%0A
Estoy interesado en este producto de *TIENS Bolivia*:%0A
*Nombre:* ${p.nombre}%0A
*C칩digo:* ${p.codigo}%0A
*Precio:* ${p.precio}%0A
Imagen: ${p.imagen}%0A
Por favor, cont치ctenme para m치s informaci칩n.`;

    detalle.innerHTML = `
      <div class="row g-4 align-items-center justify-content-center">
        <div class="col-12 col-md-6 text-center">
          <img src="${p.imagen}" class="img-fluid rounded shadow img-product" alt="${p.nombre}">
        </div>
        <div class="col-12 col-md-6 d-flex flex-column">
          <h2 class="text-success">${p.nombre}</h2>
          <p class="price mb-2">Precio: ${p.precio}</p>
          <p>${p.descripcion}</p>
          <h5 class="mt-4 text-success">Beneficios:</h5>
          <ul>${p.beneficios.map(b => `<li>${b}</li>`).join('')}</ul>
          <div class="mt-4 d-flex flex-wrap gap-2">
            <a href="${p.pdf}" target="_blank" class="btn btn-product btn-yellow-outline">
              <i class="bi bi-file-earmark-pdf"></i> PDF
            </a>
            <a href="https://wa.me/59163488086?text=${mensajeWhatsApp}" target="_blank" class="btn btn-product btn-green">
              <i class="bi bi-whatsapp"></i> WhatsApp
            </a>
            ${p.video ? `<a href="${p.video}" target="_blank" class="btn btn-product btn-yellow-outline">
              <i class="bi bi-play-circle"></i> Video</a>` : ''}
          </div>
        </div>
      </div>`;
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
